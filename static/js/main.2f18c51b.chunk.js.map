{"version":3,"sources":["components/Header/Header.js","components/AuthDialog/AuthDialog.js","components/Footer/Footer.js","redux/actions.js","containers/FooterContainer.js","components/HideMe/HideMe.js","components/ChatMessage/ChatMessage.js","components/ChatSpace/ChatSpace.js","containers/ChatSpaceContainer.js","components/App/App.js","redux/store.js","redux/reducer.js","index.js"],"names":["Header","_ref","children","onLogOut","react_default","a","createElement","className","onClick","AuthDialog","state","login","password","this","props","isOpened","placeholder","type","React","Component","Footer","input","onInputChange","e","_this","setState","target","value","sendMessage","onSend","keyListener","event","keyCode","ctrlKey","data-grid","onKeyDown","onChange","SEND_MESSAGE","LOG_OUT","FooterContainer","components_Footer_Footer","messages","handleSendMessage","connect","dispatch","text","id","Date","now","HideMe","hide","ChatMessage","message","classNames","justify-right","isOutgoing","order-2","HideMe_HideMe","from","ChatSpace","renderMessages","map","msg","components_ChatMessage_ChatMessage","key","scrollToBottom","container","scrollTop","scrollHeight","_this2","ref","components_ChatSpace_ChatSpace","App","components_AuthDialog_AuthDialog","userName","components_Header_Header","handleLogOut","containers_ChatSpaceContainer","containers_FooterContainer","initialState","store","createStore","action","Object","objectSpread","toConsumableArray","concat","applyMiddleware","next","console","log","result","getState","ReactDOM","render","es","components_App_App","document","getElementById"],"mappings":"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","file":"static/js/main.2f18c51b.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Header.css';\r\n\r\nconst Header = ({children, onLogOut}) => (\r\n    <header className=\"Header\">\r\n        <p className=\"Header-userName\">{children}</p>\r\n        <div className=\"Header-button\" onClick={onLogOut}><div className=\"Header-button_text\">Выйти</div><i className=\"fas fa-sign-out-alt\"></i></div>\r\n    </header>\r\n)\r\n\r\nexport default Header;","import React from 'react';\nimport './AuthDialog.css';\n\nclass AuthDialog extends React.Component {\n    state={login: '', password: ''}\n    render() {\n        return(    \n            this.props.isOpened ? \n                <div className='AuthDialog'>\n                    <div className='AuthDialog-form'>\n                    <h2>Чатик</h2>\n                    <input className='AuthDialog-input' placeholder='Логин'></input>\n                    <input className='AuthDialog-input' placeholder='Пароль' type='password'></input>\n                    <button className='AuthDialog-button'>Войти</button>\n                    </div>\n                </div>\n            : null\n            )\n    }\n    }\n\nexport default AuthDialog","import React from 'react';\r\nimport './Footer.css';\r\n\r\nclass Footer extends React.Component {\r\n    \r\n    state = {input: ''}\r\n    \r\n    onInputChange = (e) => {\r\n        this.setState({input: e.target.value})\r\n    }\r\n\r\n    sendMessage = () => {\r\n        if (!this.state.input) return\r\n        this.props.onSend(this.state.input)\r\n        this.setState({input: ''});\r\n    }\r\n\r\n    keyListener = (event) => {\r\n        if (event.keyCode === 13 && event.ctrlKey) this.sendMessage();\r\n    }\r\n\r\n    render() {\r\n        return( \r\n            <footer className=\"Footer\" data-grid=\"va-stretch\">\r\n                <div className=\"Footer-textarea-container\">\r\n                    <textarea className=\"Footer-textarea\" placeholder=\"Ctrl+Enter для отправки\" onKeyDown = {this.keyListener} onChange={this.onInputChange} value={this.state.input}></textarea>\r\n                </div>\r\n                <div className='Footer-gap'></div>\r\n                <div className=\"Footer-button\" onClick={this.sendMessage}><i className=\"Footer-button-icon far fa-paper-plane\"></i></div>\r\n            </footer>\r\n        )}\r\n}\r\n\r\nexport default Footer;","\r\nexport const SEND_MESSAGE = 'SEND_MESSAGE';\r\nexport const LOG_OUT = 'LOG_OUT';\r\n\r\nexport function sendMessage(id, text) {\r\n    return {\r\n        type: SEND_MESSAGE,\r\n        id,\r\n        text\r\n    }\r\n}\r\n\r\n\r\nexport function logOut() {\r\n    return {\r\n        type: LOG_OUT,\r\n    }\r\n}","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Footer from '../components/Footer/Footer'\r\nimport { sendMessage } from '../redux/actions';\r\n\r\nclass FooterContainer extends React.Component {\r\n    render() {\r\n        return <Footer messages={this.props.messages} onSend={this.props.handleSendMessage} />\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    handleSendMessage(text) {\r\n        dispatch(sendMessage(Date.now(), text))\r\n    }\r\n})\r\n\r\nexport default connect(null, mapDispatchToProps)(FooterContainer)","\r\nconst HideMe = ({hide, children}) => (\r\n    hide ? null : children \r\n)\r\n\r\nexport default HideMe;","import React from 'react';\r\nimport './ChatMessage.css';\r\nimport HideMe from '../HideMe/HideMe';\r\nimport classNames from 'classnames';\r\nconst ChatMessage = ({message}) => {\r\n    return (<div className={classNames('ChatMessage',  {'justify-right': message.isOutgoing})}>\r\n        <div className={classNames(\"ChatMessage-message-avatar\", {'order-2': message.isOutgoing})}>\r\n            <i className=\"ChatMessage-message-avatar__icon fas fa-user-circle\"></i>\r\n            <HideMe hide={message.isOutgoing}><div className=\"ChatMessage-message-avatar__username\">{message.from}</div></HideMe>\r\n        </div>\r\n        <div className='ChatMessage-message-text'>{message.text}</div>\r\n    </div>)\r\n}\r\n\r\nexport default ChatMessage;","import React from 'react';\r\nimport ChatMessage from '../ChatMessage/ChatMessage';\r\nimport './ChatSpace.css';\r\n\r\nclass ChatSpace extends React.Component { \r\n\r\n    componentDidMount() {\r\n        this.scrollToBottom();\r\n    }\r\n\r\n    componentDidUpdate({messages}) {\r\n        //if (messages[messages.length - 1].isOutgoing) {\r\n        this.scrollToBottom();\r\n        //}\r\n    }\r\n\r\n    scrollToBottom() {\r\n        this.container.scrollTop = this.container.scrollHeight;\r\n    }\r\n\r\n    renderMessages = () => {\r\n        return this.props.messages.map((msg) => <ChatMessage className=\"\" message={msg} key={msg.id}/>)\r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div className=\"ChatSpace\">\r\n            <div className=\"ChatSpace-messages\" ref={(container) => {this.container = container}}>{this.renderMessages()}</div>\r\n            </div>\r\n        )}\r\n    }\r\n\r\nexport default ChatSpace;","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport ChatSpace from '../components/ChatSpace/ChatSpace'\r\n\r\nconst ChatSpaceContainer = ({messages}) => (\r\n    <ChatSpace messages={messages}/>\r\n);\r\n\r\nconst mapStateToProps = (state) => (\r\n    {messages: state.messages}\r\n)\r\n\r\nexport default connect(mapStateToProps)(ChatSpaceContainer)","import React, { Component } from 'react';\nimport Header from '../Header/Header';\nimport AuthDialog from '../AuthDialog/AuthDialog';\nimport FooterContainer from '../../containers/FooterContainer';\nimport ChatSpaceContainer from '../../containers/ChatSpaceContainer';\nimport { connect } from 'react-redux';\nimport { logOut } from '../../redux/actions';\nimport './App.css';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <AuthDialog isOpened={!this.props.userName}/>\n        <Header onLogOut={this.props.handleLogOut}>{this.props.userName}</Header>\n        <ChatSpaceContainer/>\n        <FooterContainer/>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = ({userName}) => ({\n  userName\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  handleLogOut() {\n    dispatch(logOut());\n  }\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import { createStore, applyMiddleware } from 'redux';\r\nimport reducer from './reducer';\r\n\r\nlet messages = [{id: '131232', userName: 'Алексаднр Анонимович', text: 'Hello!Hello!Hello!Hello!Hello!Hello!Hello!Hello!Hello!Hello!Hello!Hello!Hello!Hello!Hello!Hello!Hello!Hello!Hello!Hello!Hello!Hello!Hello!Hello!', isOutgoing: false}, {id: '131432', userName: 'Я', text: 'Hello!', isOutgoing: true}, {id: '136232', userName: 'Федор Анон', text: 'Hello! Bla bla bla bla bla \\n bal bal balsdks jdfkdj fkldj fkldjf!', isOutgoing: false}]\r\n\r\n// messages = [...messages, ...messages];\r\n// messages = [...messages, ...messages];\r\n// messages = [...messages, ...messages];\r\n// messages = [...messages, ...messages];\r\n\r\n\r\nconst initialState = {\r\n    messages: messages,\r\n    userName: 'Юзверь'\r\n}\r\n\r\nconst logger = store => next => action => {\r\n    console.log('dispatching', action)\r\n    let result = next(action)\r\n    console.log('next state', store.getState())\r\n    return result\r\n  }\r\n\r\nconst store = createStore(reducer, initialState, applyMiddleware(logger));\r\n\r\nexport default store;","import {SEND_MESSAGE, LOG_OUT} from './actions';\r\n\r\nexport default function reducer(state, action) {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            return {...state, messages: [...state.messages, {id: action.id, userName: state.userName, text: action.text, isOutgoing: true}]}\r\n        case LOG_OUT:\r\n            return {...state, userName: ''}    \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'normalize.css'\nimport './index.css';\nimport App from './components/App/App';\nimport { Provider } from 'react-redux'\nimport store from './redux/store';\n\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\n\n"],"sourceRoot":""}